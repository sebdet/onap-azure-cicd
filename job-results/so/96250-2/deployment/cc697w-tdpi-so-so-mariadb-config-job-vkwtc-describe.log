Name:           cc697w-tdpi-so-so-mariadb-config-job-vkwtc
Namespace:      onap
Priority:       0
Node:           aks-nodepool1-30751440-0/169.1.0.6
Start Time:     Tue, 01 Oct 2019 10:39:07 +0000
Labels:         app=so-mariadb-job
                controller-uid=b2554b01-e437-11e9-84df-f6b793e321d7
                job-name=cc697w-tdpi-so-so-mariadb-config-job
                release=cc697w-tdpi-so
Annotations:    <none>
Status:         Succeeded
IP:             10.244.3.128
Controlled By:  Job/cc697w-tdpi-so-so-mariadb-config-job
Init Containers:
  so-mariadb-readiness:
    Container ID:  docker://941648e388638b44c14d7ef4d33729ed378359d438ab36fffd545a7cc72804fc
    Image:         oomk8s/readiness-check:2.0.2
    Image ID:      docker-pullable://oomk8s/readiness-check@sha256:875814cc853d7d9b3227165740584c347884bc8c0d831b4148cb5f7952e4cbff
    Port:          <none>
    Host Port:     <none>
    Command:
      /root/ready.py
    Args:
      --container-name
      mariadb-galera
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Tue, 01 Oct 2019 10:39:13 +0000
      Finished:     Tue, 01 Oct 2019 10:39:15 +0000
    Ready:          True
    Restart Count:  0
    Environment:
      NAMESPACE:  onap (v1:metadata.namespace)
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-9l7dw (ro)
  so-mariadb-inject-testlab-project:
    Container ID:  docker://408618a85645a178803edea6f5b9aaa4e366d653ef6a6711fed688f114c13767
    Image:         registry.hub.docker.com/oomk8s/ubuntu-init:2.0.0
    Image ID:      docker-pullable://registry.hub.docker.com/oomk8s/ubuntu-init@sha256:4e876b59ca9ec61a375e18a7a0317f561200c4e34f40ab65913878a8326857e2
    Port:          <none>
    Host Port:     <none>
    Command:
      /bin/bash
      -c
      git clone -b master --single-branch http://gerrit.onap.org/r/so/docker-config.git /tmp/gerrit; echo "Clone complete. Copying from /tmp/gerrit/volumes/mariadb/docker-entrypoint-initdb.d to /docker-entrypoint-initdb.d"; cp -rf /tmp/gerrit/volumes/mariadb/docker-entrypoint-initdb.d/* /docker-entrypoint-initdb.d; chmod -R 755 /docker-entrypoint-initdb.d; echo "Done.";
      
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Tue, 01 Oct 2019 10:39:22 +0000
      Finished:     Tue, 01 Oct 2019 10:39:23 +0000
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /docker-entrypoint-initdb.d from docker-entrypoint-initdb-d (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-9l7dw (ro)
Containers:
  so-mariadb:
    Container ID:  docker://60a3883cb6fbb4d03eeb2009f2ace0f35e15d8b22fcc03eebcf1d0607e437b1f
    Image:         nexus3.onap.org:10001/mariadb:10.1.38
    Image ID:      docker-pullable://nexus3.onap.org:10001/mariadb@sha256:94a8fcf2e040d35e5ed199ac6e1af0f795a07f409aca2f2660264920d0b9da67
    Port:          <none>
    Host Port:     <none>
    Command:
      /bin/bash
      -c
      mysql() { /usr/bin/mysql  -h ${DB_HOST} -P ${DB_PORT} "$@"; }; export -f mysql; mysql --user=root --password=${MYSQL_ROOT_PASSWORD} requestdb -e exit > /dev/null 2>&1  && echo "Database already initialized!!!" && exit 0 ; for f in /docker-entrypoint-initdb.d/*; do case "$f" in  *.sh) echo "$0: running $f"; . "$f" ;;  *.sql) echo "$0: running $f"; "${mysql[@]}" < "$f"; echo ;; *.sql.gz) echo "$0: running $f"; gunzip -c "$f" | "${mysql[@]}"; echo ;;  *) echo "$0: ignoring $f" ;;  esac; echo; done;
      
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Tue, 01 Oct 2019 10:39:26 +0000
      Finished:     Tue, 01 Oct 2019 10:39:26 +0000
    Ready:          False
    Restart Count:  0
    Limits:
      cpu:     2
      memory:  4Gi
    Requests:
      cpu:     1
      memory:  2Gi
    Environment:
      DB_HOST:              <set to the key 'mariadb.readwrite.host' in secret 'cc697w-tdpi-so-so-db-secrets'>  Optional: false
      DB_PORT:              <set to the key 'mariadb.readwrite.port' in secret 'cc697w-tdpi-so-so-db-secrets'>  Optional: false
      MYSQL_ROOT_PASSWORD:  <set to the key 'db-root-password' in secret 'cc697w-tdpi-so-so-mariadb'>           Optional: false
    Mounts:
      /docker-entrypoint-initdb.d from docker-entrypoint-initdb-d (rw)
      /etc/localtime from localtime (ro)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-9l7dw (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             False 
  ContainersReady   False 
  PodScheduled      True 
Volumes:
  localtime:
    Type:          HostPath (bare host directory volume)
    Path:          /etc/localtime
    HostPathType:  
  docker-entrypoint-initdb-d:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     
    SizeLimit:  <unset>
  default-token-9l7dw:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-9l7dw
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason     Age    From                               Message
  ----    ------     ----   ----                               -------
  Normal  Scheduled  5m30s  default-scheduler                  Successfully assigned onap/cc697w-tdpi-so-so-mariadb-config-job-vkwtc to aks-nodepool1-30751440-0
  Normal  Pulling    5m28s  kubelet, aks-nodepool1-30751440-0  Pulling image "oomk8s/readiness-check:2.0.2"
  Normal  Pulled     5m25s  kubelet, aks-nodepool1-30751440-0  Successfully pulled image "oomk8s/readiness-check:2.0.2"
  Normal  Created    5m25s  kubelet, aks-nodepool1-30751440-0  Created container so-mariadb-readiness
  Normal  Started    5m24s  kubelet, aks-nodepool1-30751440-0  Started container so-mariadb-readiness
  Normal  Pulling    5m18s  kubelet, aks-nodepool1-30751440-0  Pulling image "registry.hub.docker.com/oomk8s/ubuntu-init:2.0.0"
  Normal  Pulled     5m16s  kubelet, aks-nodepool1-30751440-0  Successfully pulled image "registry.hub.docker.com/oomk8s/ubuntu-init:2.0.0"
  Normal  Created    5m15s  kubelet, aks-nodepool1-30751440-0  Created container so-mariadb-inject-testlab-project
  Normal  Started    5m15s  kubelet, aks-nodepool1-30751440-0  Started container so-mariadb-inject-testlab-project
  Normal  Pulling    5m12s  kubelet, aks-nodepool1-30751440-0  Pulling image "nexus3.onap.org:10001/mariadb:10.1.38"
  Normal  Pulled     5m12s  kubelet, aks-nodepool1-30751440-0  Successfully pulled image "nexus3.onap.org:10001/mariadb:10.1.38"
  Normal  Created    5m11s  kubelet, aks-nodepool1-30751440-0  Created container so-mariadb
  Normal  Started    5m11s  kubelet, aks-nodepool1-30751440-0  Started container so-mariadb
